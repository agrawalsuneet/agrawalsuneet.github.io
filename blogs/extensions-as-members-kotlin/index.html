<!DOCTYPE html>
<html lang="en">

<head prefix="og: http://ogp.me/ns# article: http://ogp.me/ns/article# website: http://ogp.me/ns/website#">

    
    <script>
        (function(w, d, s, l, i) {
            w[l] = w[l] || [];
            w[l].push({
                'gtm.start': new Date().getTime(),
                event: 'gtm.js'
            });
            var f = d.getElementsByTagName(s)[0],
                j = d.createElement(s),
                dl = l != 'dataLayer' ? '&l=' + l : '';
            j.async = true;
            j.src =
                'https://www.googletagmanager.com/gtm.js?id=' + i + dl;
            f.parentNode.insertBefore(j, f);
        })(window, document, 'script', 'dataLayer', 'GTM-WCXZ73G');
    </script>
    

    
    <script data-ad-client="ca-pub-1093303282603666" async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js">
    </script>

    <script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
    

    <meta http-equiv="content-type" content="text/html; charset=utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=6">

    <meta property="og:site_name" content="Suneet Agrawal">

    <meta name="robots" content="index,follow">
    <meta name="keywords" content="kotlin extension function,extension function kotlin,kotlin extension">


    
    <meta name="author" content="Suneet Agrawal">
    <meta name="owner" content="Suneet Agrawal">
    <meta name="google-site-verification" content="ossQ8_U15s60mLv7-z4koMhDohVCMlfnvv3Ifb88mdU">

    <meta name="title" content="Suneet Agrawal | Extensions as Members : Kotlin" />
    <meta property="og:title" content="Extensions as Members : Kotlin">
    <meta property="twitter:title" content="Extensions as Members : Kotlin">
    <meta name="twitter:site" content="@agrawalsuneet">

    <meta name="topic" content="Extensions as Members : Kotlin">
    <meta name="description" content="An extension can be defined as members of some other class also. The benefit of defining an extension as a member of the other class is, we can access all the functions and properties of both the classes inside that extension method.">
    <meta property="og:description" content="An extension can be defined as members of some other class also. The benefit of defining an extension as a member of the other class is, we can access all the functions and properties of both the classes inside that extension method.">
    <meta property="twitter:description" content="An extension can be defined as members of some other class also. The benefit of defining an extension as a member of the other class is, we can access all the functions and properties of both the classes inside that extension method.">
    <meta name="abstract" content="An extension can be defined as members of some other class also. The benefit of defining an extension as a member of the other class is, we can access all the functions and properties of both the classes inside that extension method.">
    <meta name="summary" content="An extension can be defined as members of some other class also. The benefit of defining an extension as a member of the other class is, we can access all the functions and properties of both the classes inside that extension method."> 
    <meta property="og:type" content="article">
    <meta property="article:published_time" content=" 2020-10-26 "> 

    <meta name="url" content="https://agrawalsuneet.github.io/blogs/extensions-as-members-kotlin/">
    <meta property="og:url" content="https://agrawalsuneet.github.io/blogs/extensions-as-members-kotlin/">
    <meta property="al:web:url" content="https://agrawalsuneet.github.io/blogs/extensions-as-members-kotlin/">

    <meta name="site_name" content="Suneet Agrawal">
    <meta property="og:site_name" content="Suneet Agrawal">

    <meta name="category" content="Portfolio">
    <meta name="email" content="agrawalsuneet@gmail.com">
    <meta name="og:email" content="agrawalsuneet@gmail.com">

    <meta name="twitter:creator" content="@agrawalsuneet">
    <link rel="canonical" href="https://agrawalsuneet.github.io/blogs/extensions-as-members-kotlin/">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="target" content="all" />
    <meta name="audience" content="all" />
    <meta name="coverage" content="Worldwide" />
    <meta name="distribution" content="Global">
    <meta name="rating" content="safe for kids" /> 
    <meta property="og:tags" content="Kotlin"> 
    <meta property="og:tags" content="Android">  <meta name="generator" content="Hugo 0.59.0" />
    <title>Extensions as Members : Kotlin &middot; Suneet Agrawal</title>

    
    <link rel="stylesheet" href="//cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css"> 

    <link rel="stylesheet" href="https://agrawalsuneet.github.io/css/style.css">
    <link rel="stylesheet" href="https://agrawalsuneet.github.io/css/custom.css">
    <link rel="stylesheet" href="https://agrawalsuneet.github.io/css/layout.css"> 
    <link href="https://agrawalsuneet.github.io/index.xml" rel="alternate" type="application/rss+xml" title="Suneet Agrawal" />  
    <link rel="icon" href="https://agrawalsuneet.github.io/suneet_icon.ico" /> 
</head>

<body>

    
    <noscript><iframe src="https://www.googletagmanager.com/ns.html?id=GTM-WCXZ73G" height="0" width="0"
      style="display:none;visibility:hidden"></iframe></noscript>
    

    
    <div id="fb-root"></div>
    <script>
        (function(d, s, id) {
            var js, fjs = d.getElementsByTagName(s)[0];
            if (d.getElementById(id)) return;
            js = d.createElement(s);
            js.id = id;
            js.src = "https://connect.facebook.net/en_US/sdk.js#xfbml=1&version=v3.0";
            fjs.parentNode.insertBefore(js, fjs);
        }(document, 'script', 'facebook-jssdk'));
    </script>
     <nav class="navbar navbar-default navbar-fixed-top visible-xs">
	<div class="container-fluid">
		<div class="navbar-header">
			<button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#bs-example-navbar-collapse-1">
				<span class="sr-only">Toggle navigation</span>
				<span class="icon-bar"></span>
				<span class="icon-bar"></span>
				<span class="icon-bar"></span>
			</button>
			
				<a class="navbar-brand" href="https://agrawalsuneet.github.io/">Suneet Agrawal</a>
			
		</div>
		<div class="collapse navbar-collapse" id="bs-example-navbar-collapse-1">
			<ul class="nav navbar-nav">
				
				
					<li><a href="https://agrawalsuneet.github.io/publications">Publications</a></li>
				
					<li><a href="https://agrawalsuneet.github.io/publicappearances">Public Appearances</a></li>
				
					<li><a href="https://agrawalsuneet.github.io/personalgamesandapps">Personal Games &amp; Apps</a></li>
				
					<li><a href="https://agrawalsuneet.github.io/opensourcecontribution">Open Source Contribution</a></li>
				
			</ul>
		</div>
	</div>
</nav>
<div class="container-fluid">
	<div class="row">
		<div id="menu" class="hidden-xs col-sm-4 col-md-3">
	<div id="menu-content" class="vertical-align">

		
			<a href="https://agrawalsuneet.github.io/">
				<img id="profile-pic" src="https://agrawalsuneet.github.io//img/suneet.jpg" alt="My Picture" class="img-circle center-block">
			</a>
		

		
			<h1 class="text-center" style="font-size:30px;">
				<a href="https://agrawalsuneet.github.io/">
					Suneet Agrawal
				</a>
		</h1>
		

		

		<div id="links" class="text-center" style="margin-top:50px; margin-bottom:50px; font-size:24px; color:#ffffff">
			
			
				<a href="https://agrawalsuneet.github.io/publications">
						Publications
				</a>
				</br>
			
				<a href="https://agrawalsuneet.github.io/publicappearances">
						Public Appearances
				</a>
				</br>
			
				<a href="https://agrawalsuneet.github.io/personalgamesandapps">
						Personal Games &amp; Apps
				</a>
				</br>
			
				<a href="https://agrawalsuneet.github.io/opensourcecontribution">
						Open Source Contribution
				</a>
				</br>
			
		</div>

		<div id="social" class="text-center">
			
				<a href="https://github.com/agrawalsuneet"><i class="fa fa-github fa-2x"></i></a>
			
				<a href="https://www.linkedin.com/in/agrawalsuneet/"><i class="fa fa-linkedin fa-2x"></i></a>
			
				<a href="https://medium.com/@agrawalsuneet"><i class="fa fa-medium fa-2x"></i></a>
			
				<a href="https://www.instagram.com/agrawalsuneet/"><i class="fa fa-instagram fa-2x"></i></a>
			
				<a href="https://www.facebook.com/agrawalsuneet"><i class="fa fa-facebook fa-2x"></i></a>
			

			<a href="mailto:agrawalsuneet@gmail.com"><i class="fa fa-envelope-o fa-2x"></i></a>
		</div>



	</div>
</div>

		<div id="content" class="col-xs-12 col-sm-8 col-md-9">
			<div class="row">
				<div id="post" class="col-xs-12">
 
<script type="application/javascript">
var doNotTrack = false;
if (!doNotTrack) {
	window.ga=window.ga||function(){(ga.q=ga.q||[]).push(arguments)};ga.l=+new Date;
	ga('create', 'UA-112616552-1', 'auto');
	
	ga('send', 'pageview');
}
</script>
<script async src='https://www.google-analytics.com/analytics.js'></script>


<main>
    <header>
        <h1 class="mx16">Extensions as Members : Kotlin</h1>
    </header>

    <div class="col-xs-12 vertical-centre">
        
        <small class="text-muted">
			
			
				<a href="https://agrawalsuneet.github.io/tags/kotlin"><span class="label label-success">Kotlin</span></a>
			
				<a href="https://agrawalsuneet.github.io/tags/android"><span class="label label-success">Android</span></a>
			
		</small> 

        

    </div>

    <article>
        <div class="col-xs-12">
            <p></br></p>

<div class="center-justified text-content">
        In continuation to my last Medium post <a href="/blogs/extensions-in-kotlin" target="_blank">Extensions in Kotlin</a> where I explained what are Extensions and how do we use it, this medium post will cover the implementation of Extensions as members of some other class.
        </br>
        </br>
        An extension can be defined as members of some other class also.
        </br>
        The benefit of defining an extension as a member of the other class is, we can access all the functions and properties of both the classes inside that extension method.
</div>

<div class="col-xs-12 googleads">
    
    <ins class="adsbygoogle"
     style="display:block"
     data-ad-client="ca-pub-1093303282603666"
     data-ad-slot="5254968909"
     data-ad-format="horizontal"
     data-full-width-responsive="true"></ins>
     
    <script>
        (adsbygoogle = window.adsbygoogle || []).push({});
    </script>
</div>

<div class="center-justified text-content">
        Let’s take an example
</div>

<pre class="zeropadding">
  <br/>class BaseClass {<br/>    fun baseClassFunctionality() {<br/><br/>    }<br/>}<br/><br/>class OtherClass {<br/><br/>    fun otherClassFunctionality() {<br/><br/>    }<br/><br/>    fun BaseClass.additionalFunctionality() {<br/>        baseClassFunctionality()<br/>        otherClassFunctionality()<br/>    }<br/><br/>}<br/>
</pre>


<div class="center-justified text-content">
        We have two classes named <mark>BaseClass</mark> and <mark>OtherClass</mark>. We have a method called <mark>baseClassFunctionality</mark> in <mark>BaseClass</mark> and <mark>otherClassFunctionality</mark> in <mark>OtherClass</mark>. Now, we added an extension function of BaseClass in OtherClass naming additionalFunctionality. The benefit of adding an extension function of <mark>BaseClass</mark> in <mark>OtherClass</mark> is we can access all the methods of <mark>BaseClass</mark> and <mark>OtherClass</mark> in that method.
</div>

<div class="col-xs-12 googleads">
    
    <ins class="adsbygoogle"
     style="display:block"
     data-ad-client="ca-pub-1093303282603666"
     data-ad-slot="5254968909"
     data-ad-format="horizontal"
     data-full-width-responsive="true"></ins>
     
    <script>
        (adsbygoogle = window.adsbygoogle || []).push({});
    </script>
</div>

<div class="center-justified text-content">
        <h4>
        What if both the classes have some same method with the same signature?
        </h4>
        It will call the method of the class for which the extension function is defined. But if we want to call the method of the class in which the extension function is defined, we can use the qualified this expression.
</div>

<pre class="zeropadding">
  <br/>class BaseClass {<br/><br/>    fun printString() {<br/>        println("I am in BaseClass")<br/>    }<br/>}<br/><br/>class OtherClass {<br/><br/>    fun otherClassFunctionality() {<br/>        BaseClass().additionalFunctionality()<br/>    }<br/><br/>    fun printString() {<br/>        println("I am in OtherClass")<br/>    }<br/><br/>    fun BaseClass.additionalFunctionality() {<br/>        printString()<br/>        this@OtherClass.printString()<br/>    }<br/><br/>}<br/><br/>// the output of<br/>OtherClass().otherClassFunctionality()<br/><br/>//will be<br/>I am in BaseClass <br/>
</pre>


<div class="col-xs-12 googleads">
    
    <ins class="adsbygoogle"
     style="display:block"
     data-ad-client="ca-pub-1093303282603666"
     data-ad-slot="5254968909"
     data-ad-format="horizontal"
     data-full-width-responsive="true"></ins>
     
    <script>
        (adsbygoogle = window.adsbygoogle || []).push({});
    </script>
</div>

<div class="center-justified text-content">
        Extension function as members can also be declared as open and can be overridden in the derived class. Which function will be called will be decided at runtime for virtual methods but statically for extension methods.
        </br>
        </br>
        Let me explain this with an example.
        </br>
        </br>
        Let’s say we have a class named <mark>BaseClass</mark> and another class named <mark>DerivedClass</mark> which is extending the <mark>BaseClass</mark>.
        </br>
        Now we have another class called <mark>OtherClass</mark> having two open extension functions of both <mark>BaseClass</mark> and <mark>DerivedClass</mark> (one each). Also, we have one more class extending the <mark>OtherClass</mark> and overriding both the extension methods.
</div>

<pre class="zeropadding">
  <br/>open class BaseClass {<br/>}<br/><br/>class DerivedClass : BaseClass() {<br/>}<br/><br/>open class OtherClass {<br/><br/>    open fun BaseClass.someFunctionality() {<br/>        println("BaseClass.someFunctionality in OtherClass")<br/>    }<br/><br/>    open fun DerivedClass.someFunctionality() {<br/>        println("DerivedClass.someFunctionality in OtherClass")<br/>    }<br/><br/>    fun caller(baseClass: BaseClass) {<br/>        baseClass.someFunctionality()<br/>    }<br/>}<br/><br/>class DerivedOtherClass : OtherClass() {<br/>    override open fun BaseClass.someFunctionality() {<br/>        println("BaseClass.someFunctionality in DerivedOtherClass")<br/>    }<br/><br/>    override fun DerivedClass.someFunctionality() {<br/>        println("DerivedClass.someFunctionality in<br/>                 DerivedOtherClass")<br/>    }<br/>}<br/>
</pre>


<div class="col-xs-12 googleads">
    
    <ins class="adsbygoogle"
     style="display:block"
     data-ad-client="ca-pub-1093303282603666"
     data-ad-slot="5254968909"
     data-ad-format="horizontal"
     data-full-width-responsive="true"></ins>
     
    <script>
        (adsbygoogle = window.adsbygoogle || []).push({});
    </script>
</div>

<div class="center-justified text-content">
        Now will consider four different cases which will clear the picture of overriding extension methods.
</div>

<pre class="zeropadding">
  <br/>OtherClass().caller(BaseClass())<br/><br/>DerivedOtherClass().caller(BaseClass())<br/><br/>OtherClass().caller(DerivedClass())<br/><br/>DerivedOtherClass().caller(DerivedClass())<br/>
</pre>


<div class="center-justified text-content">
        </br>
        1. When we call the caller method of <mark>OtherClass</mark> with <mark>OtherClass</mark> reference object and pass the <mark>BaseClass</mark> object as the parameter.
</div>

<pre class="zeropadding">
  <br/>OtherClass().caller(BaseClass())<br/>//the output of the above code will be<br/>BaseClass.someFunctionality in OtherClass<br/>
</pre>


<div class="center-justified text-content">
        This will call the extension function of <mark>BaseClass</mark> defined in <mark>OtherClass</mark>. There was no confusion because both the references were of the superclasses.
        </br>
        </br>
        2. When we call the caller method of <mark>OtherClass</mark> with <mark>DerivedOtherClass</mark> reference object and pass the <mark>BaseClass</mark> object as the parameter.
</div>

<pre class="zeropadding">
  <br/>DerivedOtherClass().caller(BaseClass())<br/><br/>//the output of the above code will be<br/>BaseClass.someFunctionality in DerivedOtherClass<br/>
</pre>


<div class="center-justified text-content">
        This will call the extension function of <mark>BaseClass</mark> overridden in <mark>DerivedOtherClass</mark>.
        </br>
        The virtual dependency of <mark>OtherClass</mark> and <mark>DerivedOtherClass</mark> was resolved at runtime and it called the <mark>DerivedOtherClass’s</mark> overridden method.
</div>

<div class="col-xs-12 googleads">
    
    <ins class="adsbygoogle"
     style="display:block"
     data-ad-client="ca-pub-1093303282603666"
     data-ad-slot="5254968909"
     data-ad-format="horizontal"
     data-full-width-responsive="true"></ins>
     
    <script>
        (adsbygoogle = window.adsbygoogle || []).push({});
    </script>
</div>

<div class="center-justified text-content">
        3. When we call the caller method of <mark>OtherClass</mark> with <mark>OtherClass</mark> reference object and pass the <mark>DerivedClass</mark> object as the parameter.
</div>

<pre class="zeropadding">
  <br/>OtherClass().caller(DerivedClass())<br/><br/>//the output of the above code will be<br/>BaseClass.someFunctionality in OtherClass<br/>
</pre>


<div class="center-justified text-content">
        This will call the extension function of <mark>BaseClass</mark> defined in <mark>OtherClass</mark>.
        </br>
        Even though we passed the <mark>DerivedClass</mark> object as the parameter, it called the <mark>BaseClass</mark> method only because the extensions are resolved statically.
        </br>
        In the caller method, we have defined the parameter type as <mark>BaseClass</mark> so it will always call <mark>BaseClass</mark> extension methods only.
        </br>
        </br>
        4. When we call the caller method of <mark>OtherClass</mark> with <mark>DerivedOtherClass</mark> reference object and pass the <mark>DerivedClass</mark> object as the parameter.
</div>

<pre class="zeropadding">
  <br/>DerivedOtherClass().caller(DerivedClass())<br/><br/>//the output of the above code will be<br/>BaseClass.someFunctionality in DerivedOtherClass<br/>
</pre>


<div class="center-justified text-content">
        This will call the extension function of <mark>BaseClass</mark> overridden in <mark>DerivedOtherClass</mark>.
        </br>
        </br>
        The reason is the same.
        </br>
        The virtual dependency of <mark>OtherClass</mark> and <mark>DerivedOtherClass</mark> was resolved at runtime and it called the <mark>DerivedOtherClass’s</mark> overridden method and because the extensions are resolved statically, it called the <mark>BaseClass</mark> extension method only.
        </br>
        </br>
        Also, extension utilizes the same visibility of other entities as regular functions declared in the same scope would.
        <ul>
                <li>
                If the extension is defined at the top level of the class, it can access all the private variables and functions of that class.
                </li>
                <li>
                If the extension function is defined outside the class, it can not access the private variables or functions of that class.
                </li>
        </ul>
        </br>
        </br>
        Reference: <a href="https://kotlinlang.org/docs/reference/extensions.html" target="_blank">Kotlin docs</a>
        </br>
</div>

<div class="col-xs-12 googleads">
    
    <ins class="adsbygoogle"
     style="display:block"
     data-ad-client="ca-pub-1093303282603666"
     data-ad-slot="5254968909"
     data-ad-format="horizontal"
     data-full-width-responsive="true"></ins>
     
    <script>
        (adsbygoogle = window.adsbygoogle || []).push({});
    </script>
</div>

<div class="col-xs-12 center-justified text-subtitle">
    <div class="col-sm-6 col-xs-12">
        <a href="/blogs">
        &lt;&lt; All Blogs
      </a>
    </div>
    <div class="col-sm-6 col-xs-12 text-right">
        <a href="/blogs/pair-and-triple-in-kotlin">
        Pair and Triple in Kotlin &gt;&gt;
      </a>
    </div>
</div>

        </div>
    </article>
</main>

 
<div id="disqus_thread">
    <div id="disqus_empty"></div>
</div>

<script type="text/javascript" defer>

    function onContentScrolled(e) {
        var currentScroll = document.scrollingElement.scrollTop;
        var disqus_target = document.getElementById('disqus_thread');

        if (disqus_target && (currentScroll > disqus_target.getBoundingClientRect().top - 150)) {
            load_disqus();
            console.log('Disqus comments loaded');
        }
    }

    function load_disqus() {
        if (window.location.hostname == "localhost") {
            var content = document.getElementById("content");
            content.removeEventListener('scroll', onContentScrolled, false)
            return;
        }

        
        var is_disqus_empty = document.getElementById('disqus_empty'),
            disqus_target = document.getElementById('disqus_thread'),
            disqus_embed = document.createElement('script'),
            disqus_hook = (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]);

        var disqus_shortname = 'agrawalsuneet';

        
        if (disqus_target && is_disqus_empty) {
            disqus_embed.type = 'text/javascript';
            disqus_embed.async = true;
            disqus_embed.src = '//' + disqus_shortname + '.disqus.com/embed.js';
            disqus_hook.appendChild(disqus_embed);
            is_disqus_empty.remove();
        }

        var content = document.getElementById("content");
        content.removeEventListener('scroll', onContentScrolled, false)
    }

    (function () {
        var content = document.getElementById("content");
        content.addEventListener('scroll', onContentScrolled, false);
    })();
</script>
<noscript>Please enable JavaScript to view the <a href="https://disqus.com/?ref_noscript">comments powered by
        Disqus.</a></noscript>


						</div>
					</div>
				</div>
			</div>
		</div>
  </div>


  
  <script>
    (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
    (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
    m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
    })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

    ga('create', 'code-here', 'auto');
    ga('send', 'pageview');
    window.baseURL = "https:\/\/agrawalsuneet.github.io\/";
  </script>
  


  <script src="//cdnjs.cloudflare.com/ajax/libs/jquery/2.1.3/jquery.min.js"></script>
  <script src="//cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.3.2/js/bootstrap.min.js"></script>
  
  <script src="//cdnjs.cloudflare.com/ajax/libs/d3/3.5.5/d3.min.js"></script>
  <script src="//cdnjs.cloudflare.com/ajax/libs/topojson/1.6.9/topojson.min.js"></script>
  
  
  <script src="https://agrawalsuneet.github.io//js/App.js"></script>
  
</body>
</html>