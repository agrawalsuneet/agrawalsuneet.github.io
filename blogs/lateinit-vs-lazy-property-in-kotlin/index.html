<!DOCTYPE html>
<html lang="en">

<head prefix="og: http://ogp.me/ns# article: http://ogp.me/ns/article# website: http://ogp.me/ns/website#">

    
    <script>
        (function(w, d, s, l, i) {
            w[l] = w[l] || [];
            w[l].push({
                'gtm.start': new Date().getTime(),
                event: 'gtm.js'
            });
            var f = d.getElementsByTagName(s)[0],
                j = d.createElement(s),
                dl = l != 'dataLayer' ? '&l=' + l : '';
            j.async = true;
            j.src =
                'https://www.googletagmanager.com/gtm.js?id=' + i + dl;
            f.parentNode.insertBefore(j, f);
        })(window, document, 'script', 'dataLayer', 'GTM-WCXZ73G');
    </script>
    

    
    <script data-ad-client="ca-pub-1093303282603666" async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js">
    </script>

    <script>
    function onErrorLoadingAds() {
      console.log("AdBlocker blocks the ads")
    }
    </script>

    <script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js" 
    onerror="onErrorLoadingAds()"></script>
    

    <meta http-equiv="content-type" content="text/html; charset=utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=6">

    <meta property="og:site_name" content="Suneet Agrawal">

    <meta name="robots" content="index,follow">
    <meta name="keywords" content="lateinit,lazy,lateinit vs lazy kotlin,property,lazy initialized">


    
    <meta name="author" content="Suneet Agrawal">
    <meta name="owner" content="Suneet Agrawal">
    <meta name="google-site-verification" content="ossQ8_U15s60mLv7-z4koMhDohVCMlfnvv3Ifb88mdU">

    <meta name="title" content="Suneet Agrawal | lateinit vs lazy Property in Kotlin" />
    <meta property="og:title" content="lateinit vs lazy Property in Kotlin">
    <meta property="twitter:title" content="lateinit vs lazy Property in Kotlin">
    <meta name="twitter:site" content="@agrawalsuneet">

    <meta name="topic" content="lateinit vs lazy Property in Kotlin">
    <meta name="description" content="Since object creation is a heavy process as it initialises all the public and private properties defined in that class when the constructor is called, Kotlin has few ways to initialise properties later when required.">
    <meta property="og:description" content="Since object creation is a heavy process as it initialises all the public and private properties defined in that class when the constructor is called, Kotlin has few ways to initialise properties later when required.">
    <meta property="twitter:description" content="Since object creation is a heavy process as it initialises all the public and private properties defined in that class when the constructor is called, Kotlin has few ways to initialise properties later when required.">
    <meta name="abstract" content="Since object creation is a heavy process as it initialises all the public and private properties defined in that class when the constructor is called, Kotlin has few ways to initialise properties later when required.">
    <meta name="summary" content="Since object creation is a heavy process as it initialises all the public and private properties defined in that class when the constructor is called, Kotlin has few ways to initialise properties later when required."> 
    <meta property="og:type" content="article">
    <meta property="article:published_time" content=" 2021-08-29 "> 

    <meta name="url" content="https://agrawalsuneet.github.io/blogs/lateinit-vs-lazy-property-in-kotlin/">
    <meta property="og:url" content="https://agrawalsuneet.github.io/blogs/lateinit-vs-lazy-property-in-kotlin/">
    <meta property="al:web:url" content="https://agrawalsuneet.github.io/blogs/lateinit-vs-lazy-property-in-kotlin/">

    <meta name="site_name" content="Suneet Agrawal">
    <meta property="og:site_name" content="Suneet Agrawal">

    <meta name="category" content="Portfolio">
    <meta name="email" content="agrawalsuneet@gmail.com">
    <meta name="og:email" content="agrawalsuneet@gmail.com">

    <meta name="twitter:creator" content="@agrawalsuneet">
    <link rel="canonical" href="https://agrawalsuneet.github.io/blogs/lateinit-vs-lazy-property-in-kotlin/">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="target" content="all" />
    <meta name="audience" content="all" />
    <meta name="coverage" content="Worldwide" />
    <meta name="distribution" content="Global">
    <meta name="rating" content="safe for kids" /> 
    <meta property="og:tags" content="Kotlin"> 
    <meta property="og:tags" content="Android"> 
    <title>lateinit vs lazy Property in Kotlin &middot; Suneet Agrawal</title>

    
    <link rel="stylesheet" href="//cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css"> 

    <link rel="stylesheet" href="https://agrawalsuneet.github.io/css/style.css">
    <link rel="stylesheet" href="https://agrawalsuneet.github.io/css/custom.css">
    <link rel="stylesheet" href="https://agrawalsuneet.github.io/css/layout.css"> 
    <link href="https://agrawalsuneet.github.io/index.xml" rel="alternate" type="application/rss+xml" title="Suneet Agrawal" />  
    <link rel="icon" href="https://agrawalsuneet.github.io/suneet_icon.ico" /> 
</head>

<body>

    
    <noscript><iframe src="https://www.googletagmanager.com/ns.html?id=GTM-WCXZ73G" height="0" width="0"
      style="display:none;visibility:hidden"></iframe></noscript>
    

    
    <div id="fb-root"></div>
    <script>
        (function(d, s, id) {
            var js, fjs = d.getElementsByTagName(s)[0];
            if (d.getElementById(id)) return;
            js = d.createElement(s);
            js.id = id;
            js.src = "https://connect.facebook.net/en_US/sdk.js#xfbml=1&version=v3.0";
            fjs.parentNode.insertBefore(js, fjs);
        }(document, 'script', 'facebook-jssdk'));
    </script>
     <nav class="navbar navbar-default navbar-fixed-top visible-xs">
	<div class="container-fluid">
		<div class="navbar-header">
			<button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#bs-example-navbar-collapse-1">
				<span class="sr-only">Toggle navigation</span>
				<span class="icon-bar"></span>
				<span class="icon-bar"></span>
				<span class="icon-bar"></span>
			</button>
			
				<a class="navbar-brand" href="https://agrawalsuneet.github.io/">Suneet Agrawal</a>
			
		</div>
		<div class="collapse navbar-collapse" id="bs-example-navbar-collapse-1">
			<ul class="nav navbar-nav">
				
				
					<li><a href="https://agrawalsuneet.github.io/publications">Publications</a></li>
				
					<li><a href="https://agrawalsuneet.github.io/publicappearances">Public Appearances</a></li>
				
					<li><a href="https://agrawalsuneet.github.io/personalgamesandapps">Personal Games &amp; Apps</a></li>
				
					<li><a href="https://agrawalsuneet.github.io/opensourcecontribution">Open Source Contribution</a></li>
				
			</ul>
		</div>
	</div>
</nav>
<div class="container-fluid">
	<div class="row">
		<div id="menu" class="hidden-xs col-sm-4 col-md-3">
	<div id="menu-content" class="vertical-align">

		
			<a href="https://agrawalsuneet.github.io/">
				<img id="profile-pic" src="https://agrawalsuneet.github.io//img/suneet.jpg" alt="My Picture" class="img-circle center-block">
			</a>
		

		
			<h1 class="text-center" style="font-size:30px;">
				<a href="https://agrawalsuneet.github.io/">
					Suneet Agrawal
				</a>
		</h1>
		

		

		<div id="links" class="text-center" style="margin-top:50px; margin-bottom:50px; font-size:24px; color:#ffffff">
			
			
				<a href="https://agrawalsuneet.github.io/publications">
						Publications
				</a>
				</br>
			
				<a href="https://agrawalsuneet.github.io/publicappearances">
						Public Appearances
				</a>
				</br>
			
				<a href="https://agrawalsuneet.github.io/personalgamesandapps">
						Personal Games &amp; Apps
				</a>
				</br>
			
				<a href="https://agrawalsuneet.github.io/opensourcecontribution">
						Open Source Contribution
				</a>
				</br>
			
		</div>

		<div id="social" class="text-center">
			
				<a href="https://github.com/agrawalsuneet"><i class="fa fa-github fa-2x"></i></a>
			
				<a href="https://www.linkedin.com/in/agrawalsuneet/"><i class="fa fa-linkedin fa-2x"></i></a>
			
				<a href="https://medium.com/@agrawalsuneet"><i class="fa fa-medium fa-2x"></i></a>
			
				<a href="https://www.instagram.com/agrawalsuneet/"><i class="fa fa-instagram fa-2x"></i></a>
			
				<a href="https://www.facebook.com/agrawalsuneet"><i class="fa fa-facebook fa-2x"></i></a>
			

			<a href="mailto:agrawalsuneet@gmail.com"><i class="fa fa-envelope-o fa-2x"></i></a>
		</div>



	</div>
</div>

		<div id="content" class="col-xs-12 col-sm-8 col-md-9">
			<div class="row">
				<div id="post" class="col-xs-12">
 
<script type="application/javascript">
var doNotTrack = false;
if (!doNotTrack) {
	window.ga=window.ga||function(){(ga.q=ga.q||[]).push(arguments)};ga.l=+new Date;
	ga('create', 'UA-112616552-1', 'auto');
	
	ga('send', 'pageview');
}
</script>
<script async src='https://www.google-analytics.com/analytics.js'></script>


<main>
    <header>
        <h1 class="mx16">lateinit vs lazy Property in Kotlin</h1>
    </header>

    <div class="col-xs-12 vertical-centre">
        
        <small class="text-muted">
			
			
				<a href="https://agrawalsuneet.github.io/tags/kotlin"><span class="label label-success">Kotlin</span></a>
			
				<a href="https://agrawalsuneet.github.io/tags/android"><span class="label label-success">Android</span></a>
			
		</small> 

        

    </div>

    <article>
        <div class="col-xs-12">
            </br>
<div class="row">
<div class="col-lg-10">
<div class="center-justified text-content">
        Since object creation is a heavy process as it initialises all the public and private properties defined in that class when the constructor is called, Kotlin has few ways to initialise properties later when required. We already discussed lateinit properties and lazy properties.
        </br>
        </br>
        Let's try to understand some basic differences between then and when to use what. But before that let's quickly recap the lateinit and lazy properties
</div>
<div class="col-xs-12 googleads">
    
    <ins class="adsbygoogle"
     style="display:block"
     data-ad-client="ca-pub-1093303282603666"
     data-ad-slot="5254968909"
     data-ad-format="horizontal"
     data-full-width-responsive="true"></ins>
     
    <script>
        (adsbygoogle = window.adsbygoogle || []).push({});
    </script>
</div>
</br>
<h3>
        lateinit property
</h3>
<div class="center-justified text-content">
        lateinit properties are the <mark>var</mark> properties that can be initialised later in the constructor or in any function according to the use.
</div>
<pre class="zeropadding">
  <br/>data class User (val id : Long,<br/>                 val username : String) : Serializable<br/><br/><b>lateinit</b> var lateinitUser : User<br/>
</pre>

</br>
<h3>
        lazy property
</h3>
<div class="center-justified text-content">
        lazy properties are the <mark>val</mark> properties that can also be initialised later when they are called the first time.
</div>
<pre class="zeropadding">
  <br/>val lazyUser : User? by <b>lazy</b> {<br/>        User(id = 1, username = "agrawalsuneet")<br/>    }<br/>
</pre>

<div class="col-xs-12 googleads">
    
    <ins class="adsbygoogle"
     style="display:block"
     data-ad-client="ca-pub-1093303282603666"
     data-ad-slot="5254968909"
     data-ad-format="horizontal"
     data-full-width-responsive="true"></ins>
     
    <script>
        (adsbygoogle = window.adsbygoogle || []).push({});
    </script>
</div>
<h4>
        Now lets try to understand difference between them.
</h4>
</br>
<h3>
        lateinit var whereas lazy val
</h3>
<div class="center-justified text-content">
        lateinit can only be used with a <mark>var</mark> property whereas lazy will always be used with <mark>val</mark> property. 
        </br>
        A lateinit property can be reinitialised again and again as per the use whereas the lazy property can only be initialised once.
</div>
<pre class="zeropadding">
  <br/>lateinit <b>var</b> lateinitUser : User<br/><br/><b>val</b> lazyUser : User? by lazy {<br/>        User(id = 1, username = "agrawalsuneet")<br/>    }<br/>
</pre>

</br>
<h3>
        lateinit can't have custom getter or setter whereas lazy has custom getter
</h3>
<div class="center-justified text-content">
        A lateinit property can't have a custom getter whereas a lazy property has a block that gets executed whenever the first time that property is called.
</div>
<pre class="zeropadding">
  <br/>val lazyUser : User by <b>lazy</b> {<br/>        //can do other initialisation here<br/>        User(id = 1, username = "agrawalsuneet")<br/>    }<br/>
</pre>

<div class="col-xs-12 googleads">
    
    <ins class="adsbygoogle"
     style="display:block"
     data-ad-client="ca-pub-1093303282603666"
     data-ad-slot="5254968909"
     data-ad-format="horizontal"
     data-full-width-responsive="true"></ins>
     
    <script>
        (adsbygoogle = window.adsbygoogle || []).push({});
    </script>
</div>
</br>
<h3>
        isInitialized
</h3>
<div class="center-justified text-content">
        In order to check if a lateinit property is initialised or not, we can use the extension function to <mark>KProperty</mark> directly which returns a <mark>boolean</mark> if the property is initialised or not.
</div>
<pre class="zeropadding">
  <br/>/**<br/> * Returns `true` if this lateinit property has been assigned a value, and `false` otherwise.<br/> *<br/> * Cannot be used in an inline function, to avoid binary compatibility issues.<br/> */<br/>@SinceKotlin("1.2")<br/>@InlineOnly<br/>inline val @receiver:AccessibleLateinitPropertyLiteral KProperty0<*>.<b>isInitialized</b>: Boolean<br/>    get() = throw NotImplementedError("Implementation is intrinsic")<br/><br/>println(::lateinitUser.<b>isInitialized</b>)    <br/>
</pre>

<div class="center-justified text-content">
        Since the lazy block returns an object which implements the Lazy interface, we can check if the variable is initialised or not in the case of the lazy property also but for that, we need to split the lazy call.
</div>
<pre class="zeropadding">
  <br/>val lazyUserDelegate = lazy { User(id = 1, username = "agrawalsuneet") }<br/>val lazyUser by lazyUserDelegate   <br/><br/>println(lazyUserDelegate.<b>isInitialized()</b>)<br/>
</pre>

<div class="col-xs-12 googleads">
    
    <ins class="adsbygoogle"
     style="display:block"
     data-ad-client="ca-pub-1093303282603666"
     data-ad-slot="5254968909"
     data-ad-format="horizontal"
     data-full-width-responsive="true"></ins>
     
    <script>
        (adsbygoogle = window.adsbygoogle || []).push({});
    </script>
</div>
<h3>
Primitive types
</h3>
<div class="center-justified text-content">
        lateinit properties can't be of primitive data types whereas lazy properties can be of primitive date types also. 
</div>
<pre class="zeropadding">
  <br/>lateinit var lateinitInt : Int <e>//compilation error: 'lateinit' modifier is not allowed on properties of primitive types</e><br/><br/>val lazyInt by lazy {<br/>    10<br/>}<br/>
</pre>

</br>
<h3>
Thread Safety
</h3>
<div class="center-justified text-content">
        We can't define the thready safety in case of lateinit property but in case of lazy, we can choose between <mark>SYNCHRONIZED</mark>, <mark>PUBLICATION</mark> and <mark>NONE</mark>.
</div>
<pre class="zeropadding">
  <br/>val lazyUser : User? by lazy(LazyThreadSafetyMode.SYNCHRONIZED) {<br/>        User(id = 1, username = "agrawalsuneet")<br/>    }<br/>
</pre>

<div class="col-xs-12 googleads">
    
    <ins class="adsbygoogle"
     style="display:block"
     data-ad-client="ca-pub-1093303282603666"
     data-ad-slot="5254968909"
     data-ad-format="horizontal"
     data-full-width-responsive="true"></ins>
     
    <script>
        (adsbygoogle = window.adsbygoogle || []).push({});
    </script>
</div>
<h3>
Nullable Type
</h3>
<div class="center-justified text-content">
       A lazy property can be of nullable type but a lateinit property can't be of nullable type.
</div>
<pre class="zeropadding">
  <br/>lateinit var lateinitUser : User<b>?</b> <e>//compilation error: 'lateinit' modifier is not allowed on properties of nullable types</e><br/><br/>val lazyUser : User<b>?</b> by lazy {<br/>        User(id = 1, username = "agrawalsuneet")<br/>    }<br/>
</pre>

</br>
<h3>
Accessing before initialisation
</h3>
<div class="center-justified text-content">
       Accessing a lateinit property before it has been initialized throws a special exception that clearly identifies the property being accessed and the fact that it hasn’t been initialized.
       </br>
        We can't ever access a lazy property before it hased been initialised. Remember that the lazy property can be null but the initialisation will still happen when the first time the property will be called.
        </br>
        </br>  
        </br>
        Based on the above difference we can decide when to use the lateinit property or when to use the lazy property. The developer doesn't have to remember if the property is initialised or not in case of lazy property but in case of lateinit we need to remember the flow. 
        </br>
        There are no guidelines in order to decide when to use what but according to the use case, we can decide.
</div>
<div class="col-xs-12 googleads">
    
    <ins class="adsbygoogle"
     style="display:block"
     data-ad-client="ca-pub-1093303282603666"
     data-ad-slot="5254968909"
     data-ad-format="horizontal"
     data-full-width-responsive="true"></ins>
     
    <script>
        (adsbygoogle = window.adsbygoogle || []).push({});
    </script>
</div>
</div>
<div class="col-lg-2 position-sticky-top">
<div class="googleads">
    
    <ins class="adsbygoogle"
        style="display:block"
        data-ad-client="ca-pub-1093303282603666"
        data-ad-slot="5801291010"
        data-ad-format="vertical"
        data-full-width-responsive="true"></ins>
    <script>
        (adsbygoogle = window.adsbygoogle || []).push({});
    </script>
</div>
</div>
</div>
<div class="col-xs-12 center-justified text-subtitle">
    <div class="col-sm-6 col-xs-12">
        <a href="/blogs/">
        &lt;&lt; All Blogs
      </a>
    </div>
    <div class="col-sm-6 col-xs-12 text-right">
        <a href="/blogs/destructuring-declarations-in-kotlin/">
        Destructuring Declarations in Kotlin &gt;&gt;
      </a>
    </div>
</div>

        </div>
    </article>
</main>

<script
    data-name="BMC-Widget" 
    data-cfasync="false" 
    src="https://cdnjs.buymeacoffee.com/1.0.0/widget.prod.min.js" 
    data-id="agrawalsuneet" 
    data-description="Support me on Buy me a coffee!" 
    data-message="If you find this blog helpful, support us to keep this website up and free !!!" 
    data-color="#ff813f" 
    data-position="Right" 
    data-x_margin="18" 
    data-y_margin="18"></script>

 
<div id="disqus_thread">
    <div id="disqus_empty"></div>
</div>

<script type="text/javascript" defer>

    function onContentScrolled(e) {
        var currentScroll = document.scrollingElement.scrollTop;
        var disqus_target = document.getElementById('disqus_thread');

        if (disqus_target && (currentScroll > disqus_target.getBoundingClientRect().top - 150)) {
            load_disqus();
            console.log('Disqus comments loaded');
        }
    }

    function load_disqus() {
        if (window.location.hostname == "localhost") {
            var content = document.getElementById("content");
            content.removeEventListener('scroll', onContentScrolled, false)
            return;
        }

        
        var is_disqus_empty = document.getElementById('disqus_empty'),
            disqus_target = document.getElementById('disqus_thread'),
            disqus_embed = document.createElement('script'),
            disqus_hook = (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]);

        var disqus_shortname = 'agrawalsuneet';

        
        if (disqus_target && is_disqus_empty) {
            disqus_embed.type = 'text/javascript';
            disqus_embed.async = true;
            disqus_embed.src = '//' + disqus_shortname + '.disqus.com/embed.js';
            disqus_hook.appendChild(disqus_embed);
            is_disqus_empty.remove();
        }

        var content = document.getElementById("content");
        content.removeEventListener('scroll', onContentScrolled, false)

        
        let remove_ads = setInterval(() => {
            console.log('Checking for Disqus Ads');

            let iframes = document.getElementsByTagName('iframe');

            for (var iframe in iframes) {
                
                
                

                
                
                
                
                

                if (iframes[iframe].id.includes("dsq") 
                && iframes[iframe].name.includes("dsq") 
                && !iframes[iframe].src.includes("disqus.com/embed/comments")) {
                    iframes[iframe].style.display = 'none';
                    clearInterval(remove_ads);
                    console.log('Disqus Ads removed');
                }
            }
        }, 1000);

        setTimeout(function () {
            clearInterval(remove_ads);
        }, 5000);
    }

    (function () {
        var content = document.getElementById("content");
        content.addEventListener('scroll', onContentScrolled, false);
    })();
</script>
<noscript>Please enable JavaScript to view the <a href="https://disqus.com/?ref_noscript">comments powered by
        Disqus.</a></noscript>


						</div>
					</div>
				</div>
			</div>
		</div>
  </div>


  
  <script>
    (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
    (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
    m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
    })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

    ga('create', 'code-here', 'auto');
    ga('send', 'pageview');
    window.baseURL = "https:\/\/agrawalsuneet.github.io\/";
  </script>
  


  <script src="//cdnjs.cloudflare.com/ajax/libs/jquery/2.1.3/jquery.min.js"></script>
  <script src="//cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.3.2/js/bootstrap.min.js"></script>
  
  <script src="//cdnjs.cloudflare.com/ajax/libs/d3/3.5.5/d3.min.js"></script>
  <script src="//cdnjs.cloudflare.com/ajax/libs/topojson/1.6.9/topojson.min.js"></script>
  
  
  <script src="https://agrawalsuneet.github.io//js/App.js"></script>
  
</body>
</html>