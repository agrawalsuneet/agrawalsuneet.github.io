<!DOCTYPE html>
<html lang="en">

<head prefix="og: http://ogp.me/ns# article: http://ogp.me/ns/article# website: http://ogp.me/ns/website#">

    
    <script>
        (function(w, d, s, l, i) {
            w[l] = w[l] || [];
            w[l].push({
                'gtm.start': new Date().getTime(),
                event: 'gtm.js'
            });
            var f = d.getElementsByTagName(s)[0],
                j = d.createElement(s),
                dl = l != 'dataLayer' ? '&l=' + l : '';
            j.async = true;
            j.src =
                'https://www.googletagmanager.com/gtm.js?id=' + i + dl;
            f.parentNode.insertBefore(j, f);
        })(window, document, 'script', 'dataLayer', 'GTM-WCXZ73G');
    </script>
    

    
    <script data-ad-client="ca-pub-1093303282603666" async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js">
    </script>

    <script>
    function onErrorLoadingAds() {
      console.log("AdBlocker blocks the ads")
    }
    </script>

    <script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js" 
    onerror="onErrorLoadingAds()"></script>
    

    <meta http-equiv="content-type" content="text/html; charset=utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=6">

    <meta property="og:site_name" content="Suneet Agrawal">

    <meta name="robots" content="index,follow">
    <meta name="keywords" content="unity,text sharing,accept incoming text,android">


    
    <meta name="author" content="Suneet Agrawal">
    <meta name="owner" content="Suneet Agrawal">
    <meta name="google-site-verification" content="ossQ8_U15s60mLv7-z4koMhDohVCMlfnvv3Ifb88mdU">

    <meta name="title" content="Suneet Agrawal | Native Android Receive Text from Other Apps in Unity" />
    <meta property="og:title" content="Native Android Receive Text from Other Apps in Unity">
    <meta property="twitter:title" content="Native Android Receive Text from Other Apps in Unity">
    <meta name="twitter:site" content="@agrawalsuneet">

    <meta name="topic" content="Native Android Receive Text from Other Apps in Unity">
    <meta name="description" content="Android provides a native share functionality to handle text or multimedia sharing. Any app can trigger an intent along with extra params to share a text. To receive the text or show our app in the sharing intent list handled by Android, we majorly have to do two things. Register Intent Filter in Manifest file. Extract text from the Intent object shared by the other app.">
    <meta property="og:description" content="Android provides a native share functionality to handle text or multimedia sharing. Any app can trigger an intent along with extra params to share a text. To receive the text or show our app in the sharing intent list handled by Android, we majorly have to do two things. Register Intent Filter in Manifest file. Extract text from the Intent object shared by the other app.">
    <meta property="twitter:description" content="Android provides a native share functionality to handle text or multimedia sharing. Any app can trigger an intent along with extra params to share a text. To receive the text or show our app in the sharing intent list handled by Android, we majorly have to do two things. Register Intent Filter in Manifest file. Extract text from the Intent object shared by the other app.">
    <meta name="abstract" content="Android provides a native share functionality to handle text or multimedia sharing. Any app can trigger an intent along with extra params to share a text. To receive the text or show our app in the sharing intent list handled by Android, we majorly have to do two things. Register Intent Filter in Manifest file. Extract text from the Intent object shared by the other app.">
    <meta name="summary" content="Android provides a native share functionality to handle text or multimedia sharing. Any app can trigger an intent along with extra params to share a text. To receive the text or show our app in the sharing intent list handled by Android, we majorly have to do two things. Register Intent Filter in Manifest file. Extract text from the Intent object shared by the other app."> 
    <meta property="og:type" content="article">
    <meta property="article:published_time" content=" 2021-06-26 "> 

    <meta name="url" content="https://agrawalsuneet.github.io/blogs/native-android-receive-text-from-other-apps-in-unity/">
    <meta property="og:url" content="https://agrawalsuneet.github.io/blogs/native-android-receive-text-from-other-apps-in-unity/">
    <meta property="al:web:url" content="https://agrawalsuneet.github.io/blogs/native-android-receive-text-from-other-apps-in-unity/">

    <meta name="site_name" content="Suneet Agrawal">
    <meta property="og:site_name" content="Suneet Agrawal">

    <meta name="category" content="Portfolio">
    <meta name="email" content="agrawalsuneet@gmail.com">
    <meta name="og:email" content="agrawalsuneet@gmail.com">

    <meta name="twitter:creator" content="@agrawalsuneet">
    <link rel="canonical" href="https://agrawalsuneet.github.io/blogs/native-android-receive-text-from-other-apps-in-unity/">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="target" content="all" />
    <meta name="audience" content="all" />
    <meta name="coverage" content="Worldwide" />
    <meta name="distribution" content="Global">
    <meta name="rating" content="safe for kids" /> 
    <meta property="og:tags" content="CSharp"> 
    <meta property="og:tags" content="Unity"> 
    <meta property="og:tags" content="Android"> 
    <title>Native Android Receive Text from Other Apps in Unity &middot; Suneet Agrawal</title>

    
    <link rel="stylesheet" href="//cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css"> 

    <link rel="stylesheet" href="https://agrawalsuneet.github.io/css/style.css">
    <link rel="stylesheet" href="https://agrawalsuneet.github.io/css/custom.css">
    <link rel="stylesheet" href="https://agrawalsuneet.github.io/css/layout.css"> 
    <link href="https://agrawalsuneet.github.io/index.xml" rel="alternate" type="application/rss+xml" title="Suneet Agrawal" />  
    <link rel="icon" href="https://agrawalsuneet.github.io/suneet_icon.ico" /> 
</head>

<body>

    
    <noscript><iframe src="https://www.googletagmanager.com/ns.html?id=GTM-WCXZ73G" height="0" width="0"
      style="display:none;visibility:hidden"></iframe></noscript>
    

    
    <div id="fb-root"></div>
    <script>
        (function(d, s, id) {
            var js, fjs = d.getElementsByTagName(s)[0];
            if (d.getElementById(id)) return;
            js = d.createElement(s);
            js.id = id;
            js.src = "https://connect.facebook.net/en_US/sdk.js#xfbml=1&version=v3.0";
            fjs.parentNode.insertBefore(js, fjs);
        }(document, 'script', 'facebook-jssdk'));
    </script>
     <nav class="navbar navbar-default navbar-fixed-top visible-xs">
	<div class="container-fluid">
		<div class="navbar-header">
			<button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#bs-example-navbar-collapse-1">
				<span class="sr-only">Toggle navigation</span>
				<span class="icon-bar"></span>
				<span class="icon-bar"></span>
				<span class="icon-bar"></span>
			</button>
			
				<a class="navbar-brand" href="https://agrawalsuneet.github.io/">Suneet Agrawal</a>
			
		</div>
		<div class="collapse navbar-collapse" id="bs-example-navbar-collapse-1">
			<ul class="nav navbar-nav">
				
				
					<li><a href="https://agrawalsuneet.github.io/publications">Publications</a></li>
				
					<li><a href="https://agrawalsuneet.github.io/publicappearances">Public Appearances</a></li>
				
					<li><a href="https://agrawalsuneet.github.io/personalgamesandapps">Personal Games &amp; Apps</a></li>
				
					<li><a href="https://agrawalsuneet.github.io/opensourcecontribution">Open Source Contribution</a></li>
				
			</ul>
		</div>
	</div>
</nav>
<div class="container-fluid">
	<div class="row">
		<div id="menu" class="hidden-xs col-sm-4 col-md-3">
	<div id="menu-content" class="vertical-align">

		
			<a href="https://agrawalsuneet.github.io/">
				<img id="profile-pic" src="https://agrawalsuneet.github.io//img/suneet.jpg" alt="My Picture" class="img-circle center-block">
			</a>
		

		
			<h1 class="text-center" style="font-size:30px;">
				<a href="https://agrawalsuneet.github.io/">
					Suneet Agrawal
				</a>
		</h1>
		

		

		<div id="links" class="text-center" style="margin-top:50px; margin-bottom:50px; font-size:24px; color:#ffffff">
			
			
				<a href="https://agrawalsuneet.github.io/publications">
						Publications
				</a>
				</br>
			
				<a href="https://agrawalsuneet.github.io/publicappearances">
						Public Appearances
				</a>
				</br>
			
				<a href="https://agrawalsuneet.github.io/personalgamesandapps">
						Personal Games &amp; Apps
				</a>
				</br>
			
				<a href="https://agrawalsuneet.github.io/opensourcecontribution">
						Open Source Contribution
				</a>
				</br>
			
		</div>

		<div id="social" class="text-center">
			
				<a href="https://github.com/agrawalsuneet"><i class="fa fa-github fa-2x"></i></a>
			
				<a href="https://www.linkedin.com/in/agrawalsuneet/"><i class="fa fa-linkedin fa-2x"></i></a>
			
				<a href="https://medium.com/@agrawalsuneet"><i class="fa fa-medium fa-2x"></i></a>
			
				<a href="https://www.instagram.com/agrawalsuneet/"><i class="fa fa-instagram fa-2x"></i></a>
			
				<a href="https://www.facebook.com/agrawalsuneet"><i class="fa fa-facebook fa-2x"></i></a>
			

			<a href="mailto:agrawalsuneet@gmail.com"><i class="fa fa-envelope-o fa-2x"></i></a>
		</div>



	</div>
</div>

		<div id="content" class="col-xs-12 col-sm-8 col-md-9">
			<div class="row">
				<div id="post" class="col-xs-12">
 
<script type="application/javascript">
var doNotTrack = false;
if (!doNotTrack) {
	window.ga=window.ga||function(){(ga.q=ga.q||[]).push(arguments)};ga.l=+new Date;
	ga('create', 'UA-112616552-1', 'auto');
	
	ga('send', 'pageview');
}
</script>
<script async src='https://www.google-analytics.com/analytics.js'></script>


<main>
    <header>
        <h1 class="mx16">Native Android Receive Text from Other Apps in Unity</h1>
    </header>

    <div class="col-xs-12 vertical-centre">
        
        <small class="text-muted">
			
			
				<a href="https://agrawalsuneet.github.io/tags/csharp"><span class="label label-success">CSharp</span></a>
			
				<a href="https://agrawalsuneet.github.io/tags/unity"><span class="label label-success">Unity</span></a>
			
				<a href="https://agrawalsuneet.github.io/tags/android"><span class="label label-success">Android</span></a>
			
		</small> 

        

    </div>

    <article>
        <div class="col-xs-12">
            </br>
<div class="row">
<div class="col-lg-10">
<img class="blogimg" src="/img/blogs/native-android-unity.png" alt="Native Android in Unity">
</br>
<div class="center-justified text-content">
        In continuation to my previous blog <a href="/blogs/native-android-image-sharing-in-unity/" target="_blank">Native Android text sharing in Unity</a>, where we learnt about sharing text from a Unity app targeting the Android platform, let's try to learn about how can we receive a text from other apps. Accepting a text from other apps is not that common but sometimes location-based games required to accept text or location shared from other apps. There can be a generic use case also where we want to accept some text from other apps for any purpose.
        </br>
        </br>
        If you have not read the previous blogs, I would strongly recommend to read them first. You can read them on the links below.
        </br>
        <ul>
                <li><a href="/blogs/native-android-in-unity/" target="_blank">Native Android in Unity</a></li>
                <li><a href="/blogs/native-android-text-sharing-in-unity/" target="_blank">Native Android text sharing in Unity</a></li>
                <li><a href="/blogs/custom-android-manifest-file-in-unity/" target="_blank">Custom Android Manifest File in Unity</a></li>
        </ul>
</div>
<div class="col-xs-12 googleads">
    
    <ins class="adsbygoogle"
     style="display:block"
     data-ad-client="ca-pub-1093303282603666"
     data-ad-slot="5254968909"
     data-ad-format="horizontal"
     data-full-width-responsive="true"></ins>
     
    <script>
        (adsbygoogle = window.adsbygoogle || []).push({});
    </script>
</div>
<div class="center-justified text-content">
       Android provides a native share functionality to handle text or multimedia sharing. Any app can trigger an intent along with extra params to share a text. To receive the text or show our app in the sharing intent list handled by Android, we majorly have to do two things.
        <ol>
                <li>Register Intent Filter in Manifest file.</li>
                <li>Extract text from the Intent object shared by the other app.</li>
        </ol>
</div>
</br>
<h2>
Register Intent Filter in Manifest file
</h2>
</br>
<div class="center-justified text-content">
       The <a href="https://developer.android.com/guide/topics/manifest/manifest-intro" target="_blank">Android manifest file</a> describes essential information about your app to the Android build tools, the Android operating system, and Google Play. Every Android app or unity app running on the Android platform must have a Manifest file. The manifest file contains information about package name, permissions, application name, icon, activities, services, providers and much more.
       </br>
       </br>
        To add an intent filter to the manifest file in an activity tag, first, we need to add a custom manifest file. 
        We can add a custom manifest file and Unity will generate a merged manifest file at the end which will be shipped along with the final apk generated.
        </br>
        </br>
        We can copy a basic structure of the custom manifest file from <mark>/Temp/StagingArea/AndroidManifest.xml</mark>
        </br>
        And can paste the modified AndroidManifest.xml at <mark>Assests/Plugins/Android/AndroidManifest.xml</mark>
        </br>
        </br>
        Please note that if this file doesn't exist for you, change the target platform to Android and build the Unity project once. It will generate the <mark>Temp</mark> folder and this file inside it. This is a temporary file that is created by Unity but we can copy it. 
        </br>
        </br>
        The copied manifest file will be of xml format and will look like something below.
</div>
</br>
<script type="application/javascript" src="https://gist.github.com/agrawalsuneet/07c234795d6a011e7f50cc81b9c6b797.js"></script>

<div class="col-xs-12 googleads">
    
    <ins class="adsbygoogle"
     style="display:block"
     data-ad-client="ca-pub-1093303282603666"
     data-ad-slot="5254968909"
     data-ad-format="horizontal"
     data-full-width-responsive="true"></ins>
     
    <script>
        (adsbygoogle = window.adsbygoogle || []).push({});
    </script>
</div>
</br>
<div class="center-justified text-content">
        To enable accepting text from other apps, we need to add an <a href="https://developer.android.com/guide/components/intents-filters" target="_blank">Intent Filter</a> to the activity tag. There can be multiple activity tags but there will at least be one activity tag with the name <mark>com.unity3d.player.UnityPlayerActivity</mark>. 
        </br>
        </br>
        That will also contain one intent-filter tag already with category <mark>android.intent.category.LAUNCHER</mark>
        </br>
        </br>
        We need to add one more as below.
</div>
<pre class="zeropadding">
  <br/>&lt;intent-filter&gt;<br/>        &lt;action android:name="android.intent.action.SEND" /&gt;<br/>        &lt;category android:name="android.intent.category.DEFAULT" /&gt;<br/>        &lt;data android:mimeType="text/plain" /&gt;<br/>&lt;/intent-filter&gt;<br/>
</pre>

</br>
<div class="center-justified text-content">
        To understand what is intent filter and why we added this, we need to understand what is Intent first. 
        </br>
        </br>
        An <a href="https://developer.android.com/guide/components/intents-filters" target="_blank">Intent</a> is a messaging object which is used to start an activity, a service or deliver a broadcast. 
</div>
<h3>
Intent is of two types
</h3>
<div class="center-justified text-content">
        <ol>
        <li>Explicit Intent
                </br>
                An explicit intent is one that you use to launch a specific app component, such as a particular activity or service in your app.
        </li>
        <li>Implicit Intent
                </br>
                An implicit intent specifies an action that can invoke any app on the device able to perform the action.
        </li>
        </ol>
        </br>
        </br>
        Any app sharing the text will be triggering an implicit action. In other to catch that implicit intent triggered by other apps we need to define an intent filter in the manifest file as we did along with category, action and data tags.
</div>
<div class="col-xs-12 googleads">
    
    <ins class="adsbygoogle"
     style="display:block"
     data-ad-client="ca-pub-1093303282603666"
     data-ad-slot="5254968909"
     data-ad-format="horizontal"
     data-full-width-responsive="true"></ins>
     
    <script>
        (adsbygoogle = window.adsbygoogle || []).push({});
    </script>
</div>
<div class="center-justified text-content">
        The final manifest file will look like below.
</div>
</br>
<script type="application/javascript" src="https://gist.github.com/agrawalsuneet/dbba8f735e29a123bc0f3a4347a17f83.js"></script>

</br>
<div class="col-xs-12 googleads">
    
    <ins class="adsbygoogle"
     style="display:block"
     data-ad-client="ca-pub-1093303282603666"
     data-ad-slot="5254968909"
     data-ad-format="horizontal"
     data-full-width-responsive="true"></ins>
     
    <script>
        (adsbygoogle = window.adsbygoogle || []).push({});
    </script>
</div>
<h2>
Extract text from the Intent object shared by the other app
</h2>
<div class="center-justified text-content">
        This is a straightforward part. We need to get the reference of the current activity, get the intent out of it and simply get the extra text out of it.
        </br>
        </br>
        If you read the previous blog <a href="/blogs/native-android-in-unity/" target="_blank">Native Android in Unity</a>, you can easily understand how can we get the current activity reference and the context object.
</div>
<pre class="zeropadding">
  <br/>//create a class reference of unity player activity<br/>AndroidJavaClass unityActivity = <br/>        new AndroidJavaClass ("com.unity3d.player.UnityPlayer");<br/><br/>//get the context of current activity<br/>AndroidJavaObject context = unityActivity.GetStatic<AndroidJavaObject> ("currentActivity");<br/>
</pre>

</br>
<div class="center-justified text-content">
        To get the intent object, we just need to call <mark>getIntent</mark> on the content object. And later we can get the string extra using <mark>getStringExtra</mark> on the intent object which will return the string shared by other apps.
</div>
<pre class="zeropadding">
  <br/>//get the current intent object<br/>AndroidJavaObject intent = context.Call<AndroidJavaObject>("getIntent");<br/><br/>//get the extra text from intent<br/>string incomingText = intent.Call<string>("getStringExtra", "android.intent.extra.TEXT");<br/>
</pre>

<div class="col-xs-12 googleads">
    
    <ins class="adsbygoogle"
     style="display:block"
     data-ad-client="ca-pub-1093303282603666"
     data-ad-slot="5254968909"
     data-ad-format="horizontal"
     data-full-width-responsive="true"></ins>
     
    <script>
        (adsbygoogle = window.adsbygoogle || []).push({});
    </script>
</div>
<div class="center-justified text-content">
        The overall code will look like below.
</div>
</br>
<script type="application/javascript" src="https://gist.github.com/agrawalsuneet/0620f07d2bb8dfc7be92ba8a4ec99034.js"></script>

<div class="center-justified text-content">
        We can attach the above script to any game object and extract the text shared by other apps.
</div>
<div class="col-xs-12 googleads">
    
    <ins class="adsbygoogle"
     style="display:block"
     data-ad-client="ca-pub-1093303282603666"
     data-ad-slot="5254968909"
     data-ad-format="horizontal"
     data-full-width-responsive="true"></ins>
     
    <script>
        (adsbygoogle = window.adsbygoogle || []).push({});
    </script>
</div>
</div>
<div class="col-lg-2 position-sticky-top">
<div class="googleads">
    
    <ins class="adsbygoogle"
        style="display:block"
        data-ad-client="ca-pub-1093303282603666"
        data-ad-slot="5801291010"
        data-ad-format="vertical"
        data-full-width-responsive="true"></ins>
    <script>
        (adsbygoogle = window.adsbygoogle || []).push({});
    </script>
</div>
</div>
</div>
<div class="col-xs-12 center-justified text-subtitle">
    <div class="col-sm-6 col-xs-12">
        <a href="/blogs/">
        &lt;&lt; All Blogs
      </a>
    </div>
    <div class="col-sm-6 col-xs-12 text-right">
        <a href="/blogs/native-android-in-unity/">
        Native Android in Unity &gt;&gt;
      </a>
    </div>
</div>

        </div>
    </article>
</main>

<script
    data-name="BMC-Widget" 
    data-cfasync="false" 
    src="https://cdnjs.buymeacoffee.com/1.0.0/widget.prod.min.js" 
    data-id="agrawalsuneet" 
    data-description="Support me on Buy me a coffee!" 
    data-message="If you find this blog helpful, support us to keep this website up and free !!!" 
    data-color="#ff813f" 
    data-position="Right" 
    data-x_margin="18" 
    data-y_margin="18"></script>

 
<div id="disqus_thread">
    <div id="disqus_empty"></div>
</div>

<script type="text/javascript" defer>

    function onContentScrolled(e) {
        var currentScroll = document.scrollingElement.scrollTop;
        var disqus_target = document.getElementById('disqus_thread');

        if (disqus_target && (currentScroll > disqus_target.getBoundingClientRect().top - 150)) {
            load_disqus();
            console.log('Disqus comments loaded');
        }
    }

    function load_disqus() {
        if (window.location.hostname == "localhost") {
            var content = document.getElementById("content");
            content.removeEventListener('scroll', onContentScrolled, false)
            return;
        }

        
        var is_disqus_empty = document.getElementById('disqus_empty'),
            disqus_target = document.getElementById('disqus_thread'),
            disqus_embed = document.createElement('script'),
            disqus_hook = (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]);

        var disqus_shortname = 'agrawalsuneet';

        
        if (disqus_target && is_disqus_empty) {
            disqus_embed.type = 'text/javascript';
            disqus_embed.async = true;
            disqus_embed.src = '//' + disqus_shortname + '.disqus.com/embed.js';
            disqus_hook.appendChild(disqus_embed);
            is_disqus_empty.remove();
        }

        var content = document.getElementById("content");
        content.removeEventListener('scroll', onContentScrolled, false)

        
        let remove_ads = setInterval(() => {
            console.log('Checking for Disqus Ads');

            let iframes = document.getElementsByTagName('iframe');

            for (var iframe in iframes) {
                
                
                

                
                
                
                
                

                if (iframes[iframe].id.includes("dsq") 
                && iframes[iframe].name.includes("dsq") 
                && !iframes[iframe].src.includes("disqus.com/embed/comments")) {
                    iframes[iframe].style.display = 'none';
                    clearInterval(remove_ads);
                    console.log('Disqus Ads removed');
                }
            }
        }, 1000);

        setTimeout(function () {
            clearInterval(remove_ads);
        }, 5000);
    }

    (function () {
        var content = document.getElementById("content");
        content.addEventListener('scroll', onContentScrolled, false);
    })();
</script>
<noscript>Please enable JavaScript to view the <a href="https://disqus.com/?ref_noscript">comments powered by
        Disqus.</a></noscript>


						</div>
					</div>
				</div>
			</div>
		</div>
  </div>


  
  <script>
    (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
    (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
    m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
    })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

    ga('create', 'code-here', 'auto');
    ga('send', 'pageview');
    window.baseURL = "https:\/\/agrawalsuneet.github.io\/";
  </script>
  


  <script src="//cdnjs.cloudflare.com/ajax/libs/jquery/2.1.3/jquery.min.js"></script>
  <script src="//cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.3.2/js/bootstrap.min.js"></script>
  
  <script src="//cdnjs.cloudflare.com/ajax/libs/d3/3.5.5/d3.min.js"></script>
  <script src="//cdnjs.cloudflare.com/ajax/libs/topojson/1.6.9/topojson.min.js"></script>
  
  
  <script src="https://agrawalsuneet.github.io//js/App.js"></script>
  
</body>
</html>